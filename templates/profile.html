{% extends 'base.html' %}

{% block titulo %}Mi Perfil{% endblock %}

{% block contenido %}
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <h2>Perfil de {{ request.user.username }}</h2>
      <p>Email: {{ request.user.email }}</p>

      <div class="d-flex justify-content-between align-items-center mb-3">
        <h3>Tus reseñas</h3>
        <a class="btn btn-primary" href="{% url 'review_create' %}">Publicar reseña</a>
      </div>

      {% if reviews %}
        <div class="list-group">
          {% for r in reviews %}
            <div class="list-group-item">
              <h5 class="mb-1">{{ r.book_title }} <small class="text-muted">({{ r.rating }}/5)</small></h5>
              <p class="mb-1">{{ r.text|default:"(sin texto)" }}</p>
              <small class="text-muted">Publicado: {{ r.created_at }}</small>
            </div>
          {% endfor %}
        </div>
      {% else %}
        <p>No has publicado reseñas todavía.</p>
      {% endif %}
    </div>
  </div>
{% endblock %}
